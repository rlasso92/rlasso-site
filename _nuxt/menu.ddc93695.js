import{g as h,Q as C,a6 as w,a8 as p,a9 as K,d as R,aa as U,c as y,ab as _,ac as q,ad as H,ae as Q,af as V,ag as D,ah as P,ai as F,aj as W,ak as k,al as Y,am as J,an as b,ao as M,ap as X,aq as E,ar as L,as as Z}from"./entry.9b260285.js";function $(e,u){if(e)return e;let l=u??"button";if(typeof l=="string"&&l.toLowerCase()==="button")return"button"}function z(e,u){let l=h($(e.value.type,e.value.as));return C(()=>{l.value=$(e.value.type,e.value.as)}),w(()=>{var r;l.value||p(u)&&p(u)instanceof HTMLButtonElement&&!((r=p(u))!=null&&r.hasAttribute("type"))&&(l.value="button")}),l}function A(e){return[e.screenX,e.screenY]}function G(){let e=h([-1,-1]);return{wasMoved(u){let l=A(u);return e.value[0]===l[0]&&e.value[1]===l[1]?!1:(e.value=l,!0)},update(u){e.value=A(u)}}}function ee({container:e,accept:u,walk:l,enabled:r}){w(()=>{let t=e.value;if(!t||r!==void 0&&!r.value)return;let a=K(e);if(!a)return;let i=Object.assign(f=>u(f),{acceptNode:u}),m=a.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,i,!1);for(;m.nextNode();)l(m.currentNode)})}function te(e){throw new Error("Unexpected object: "+e)}var S=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(S||{});function ae(e,u){let l=u.resolveItems();if(l.length<=0)return null;let r=u.resolveActiveIndex(),t=r??-1;switch(e.focus){case 0:{for(let a=0;a<l.length;++a)if(!u.resolveDisabled(l[a],a,l))return a;return r}case 1:{t===-1&&(t=l.length);for(let a=t-1;a>=0;--a)if(!u.resolveDisabled(l[a],a,l))return a;return r}case 2:{for(let a=t+1;a<l.length;++a)if(!u.resolveDisabled(l[a],a,l))return a;return r}case 3:{for(let a=l.length-1;a>=0;--a)if(!u.resolveDisabled(l[a],a,l))return a;return r}case 4:{for(let a=0;a<l.length;++a)if(u.resolveId(l[a],a,l)===e.id)return a;return r}case 5:return null;default:te(e)}}let N=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function O(e){var u,l;let r=(u=e.innerText)!=null?u:"",t=e.cloneNode(!0);if(!(t instanceof HTMLElement))return r;let a=!1;for(let m of t.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))m.remove(),a=!0;let i=a?(l=t.innerText)!=null?l:"":r;return N.test(i)&&(i=i.replace(N,"")),i}function ne(e){let u=e.getAttribute("aria-label");if(typeof u=="string")return u.trim();let l=e.getAttribute("aria-labelledby");if(l){let r=l.split(" ").map(t=>{let a=document.getElementById(t);if(a){let i=a.getAttribute("aria-label");return typeof i=="string"?i.trim():O(a).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return O(e).trim()}function le(e){let u=h(""),l=h("");return()=>{let r=p(e);if(!r)return"";let t=r.innerText;if(u.value===t)return l.value;let a=ne(r).trim().toLowerCase();return u.value=t,l.value=a,a}}var ue=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ue||{}),re=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(re||{});function oe(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let B=Symbol("MenuContext");function T(e){let u=J(B,null);if(u===null){let l=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,T),l}return u}let se=R({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:u,attrs:l}){let r=h(1),t=h(null),a=h(null),i=h([]),m=h(""),f=h(null),c=h(1);function n(s=v=>v){let v=f.value!==null?i.value[f.value]:null,d=Z(s(i.value.slice()),I=>p(I.dataRef.domRef)),o=v?d.indexOf(v):null;return o===-1&&(o=null),{items:d,activeItemIndex:o}}let g={menuState:r,buttonRef:t,itemsRef:a,items:i,searchQuery:m,activeItemIndex:f,activationTrigger:c,closeMenu:()=>{r.value=1,f.value=null},openMenu:()=>r.value=0,goToItem(s,v,d){let o=n(),I=ae(s===S.Specific?{focus:S.Specific,id:v}:{focus:s},{resolveItems:()=>o.items,resolveActiveIndex:()=>o.activeItemIndex,resolveId:x=>x.id,resolveDisabled:x=>x.dataRef.disabled});m.value="",f.value=I,c.value=d??1,i.value=o.items},search(s){let v=m.value!==""?0:1;m.value+=s.toLowerCase();let d=(f.value!==null?i.value.slice(f.value+v).concat(i.value.slice(0,f.value+v)):i.value).find(I=>I.dataRef.textValue.startsWith(m.value)&&!I.dataRef.disabled),o=d?i.value.indexOf(d):-1;o===-1||o===f.value||(f.value=o,c.value=1)},clearSearch(){m.value=""},registerItem(s,v){let d=n(o=>[...o,{id:s,dataRef:v}]);i.value=d.items,f.value=d.activeItemIndex,c.value=1},unregisterItem(s){let v=n(d=>{let o=d.findIndex(I=>I.id===s);return o!==-1&&d.splice(o,1),d});i.value=v.items,f.value=v.activeItemIndex,c.value=1}};return U([t,a],(s,v)=>{var d;g.closeMenu(),_(v,q.Loose)||(s.preventDefault(),(d=p(t))==null||d.focus())},y(()=>r.value===0)),H(B,g),Q(y(()=>V(r.value,{[0]:D.Open,[1]:D.Closed}))),()=>{let s={open:r.value===0,close:g.closeMenu};return P({ourProps:{},theirProps:e,slot:s,slots:u,attrs:l,name:"Menu"})}}}),ce=R({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-menu-button-${F()}`}},setup(e,{attrs:u,slots:l,expose:r}){let t=T("MenuButton");r({el:t.buttonRef,$el:t.buttonRef});function a(c){switch(c.key){case b.Space:case b.Enter:case b.ArrowDown:c.preventDefault(),c.stopPropagation(),t.openMenu(),M(()=>{var n;(n=p(t.itemsRef))==null||n.focus({preventScroll:!0}),t.goToItem(S.First)});break;case b.ArrowUp:c.preventDefault(),c.stopPropagation(),t.openMenu(),M(()=>{var n;(n=p(t.itemsRef))==null||n.focus({preventScroll:!0}),t.goToItem(S.Last)});break}}function i(c){switch(c.key){case b.Space:c.preventDefault();break}}function m(c){e.disabled||(t.menuState.value===0?(t.closeMenu(),M(()=>{var n;return(n=p(t.buttonRef))==null?void 0:n.focus({preventScroll:!0})})):(c.preventDefault(),t.openMenu(),oe(()=>{var n;return(n=p(t.itemsRef))==null?void 0:n.focus({preventScroll:!0})})))}let f=z(y(()=>({as:e.as,type:u.type})),t.buttonRef);return()=>{var c;let n={open:t.menuState.value===0},{id:g,...s}=e,v={ref:t.buttonRef,id:g,type:f.value,"aria-haspopup":"menu","aria-controls":(c=p(t.itemsRef))==null?void 0:c.id,"aria-expanded":t.menuState.value===0,onKeydown:a,onKeyup:i,onClick:m};return P({ourProps:v,theirProps:s,slot:n,attrs:u,slots:l,name:"MenuButton"})}}}),ve=R({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-menu-items-${F()}`}},setup(e,{attrs:u,slots:l,expose:r}){let t=T("MenuItems"),a=h(null);r({el:t.itemsRef,$el:t.itemsRef}),ee({container:y(()=>p(t.itemsRef)),enabled:y(()=>t.menuState.value===0),accept(n){return n.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:n.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(n){n.setAttribute("role","none")}});function i(n){var g;switch(a.value&&clearTimeout(a.value),n.key){case b.Space:if(t.searchQuery.value!=="")return n.preventDefault(),n.stopPropagation(),t.search(n.key);case b.Enter:if(n.preventDefault(),n.stopPropagation(),t.activeItemIndex.value!==null){let s=t.items.value[t.activeItemIndex.value];(g=p(s.dataRef.domRef))==null||g.click()}t.closeMenu(),L(p(t.buttonRef));break;case b.ArrowDown:return n.preventDefault(),n.stopPropagation(),t.goToItem(S.Next);case b.ArrowUp:return n.preventDefault(),n.stopPropagation(),t.goToItem(S.Previous);case b.Home:case b.PageUp:return n.preventDefault(),n.stopPropagation(),t.goToItem(S.First);case b.End:case b.PageDown:return n.preventDefault(),n.stopPropagation(),t.goToItem(S.Last);case b.Escape:n.preventDefault(),n.stopPropagation(),t.closeMenu(),M(()=>{var s;return(s=p(t.buttonRef))==null?void 0:s.focus({preventScroll:!0})});break;case b.Tab:n.preventDefault(),n.stopPropagation(),t.closeMenu(),M(()=>X(p(t.buttonRef),n.shiftKey?E.Previous:E.Next));break;default:n.key.length===1&&(t.search(n.key),a.value=setTimeout(()=>t.clearSearch(),350));break}}function m(n){switch(n.key){case b.Space:n.preventDefault();break}}let f=W(),c=y(()=>f!==null?(f.value&D.Open)===D.Open:t.menuState.value===0);return()=>{var n,g;let s={open:t.menuState.value===0},{id:v,...d}=e,o={"aria-activedescendant":t.activeItemIndex.value===null||(n=t.items.value[t.activeItemIndex.value])==null?void 0:n.id,"aria-labelledby":(g=p(t.buttonRef))==null?void 0:g.id,id:v,onKeydown:i,onKeyup:m,role:"menu",tabIndex:0,ref:t.itemsRef};return P({ourProps:o,theirProps:d,slot:s,attrs:u,slots:l,features:k.RenderStrategy|k.Static,visible:c.value,name:"MenuItems"})}}}),de=R({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-menu-item-${F()}`}},setup(e,{slots:u,attrs:l,expose:r}){let t=T("MenuItem"),a=h(null);r({el:a,$el:a});let i=y(()=>t.activeItemIndex.value!==null?t.items.value[t.activeItemIndex.value].id===e.id:!1),m=le(a),f=y(()=>({disabled:e.disabled,get textValue(){return m()},domRef:a}));C(()=>t.registerItem(e.id,f)),Y(()=>t.unregisterItem(e.id)),w(()=>{t.menuState.value===0&&i.value&&t.activationTrigger.value!==0&&M(()=>{var o,I;return(I=(o=p(a))==null?void 0:o.scrollIntoView)==null?void 0:I.call(o,{block:"nearest"})})});function c(o){if(e.disabled)return o.preventDefault();t.closeMenu(),L(p(t.buttonRef))}function n(){if(e.disabled)return t.goToItem(S.Nothing);t.goToItem(S.Specific,e.id)}let g=G();function s(o){g.update(o)}function v(o){g.wasMoved(o)&&(e.disabled||i.value||t.goToItem(S.Specific,e.id,0))}function d(o){g.wasMoved(o)&&(e.disabled||i.value&&t.goToItem(S.Nothing))}return()=>{let{disabled:o}=e,I={active:i.value,disabled:o,close:t.closeMenu},{id:x,...j}=e;return P({ourProps:{id:x,ref:a,role:"menuitem",tabIndex:o===!0?void 0:-1,"aria-disabled":o===!0?!0:void 0,disabled:void 0,onClick:c,onFocus:n,onPointerenter:s,onMouseenter:s,onPointermove:v,onMousemove:v,onPointerleave:d,onMouseleave:d},theirProps:{...l,...j},slot:I,attrs:l,slots:u,name:"MenuItem"})}}});export{se as I,ve as S,de as b,ce as g};
